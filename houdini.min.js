!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.Houdini=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(t){"use strict";var e={contentClass:"houdini",expanded:!1,expandedClass:"is-expanded",visibleClass:"is-visible",btnAfter:!1,btnClass:"houdini-toggle",btnAttribute:"data-houdini-toggle",btnTextAttribute:"data-houdini-button",btnLabelAttribute:"data-houdini-label",btnPreexisting:"data-houdini-button-preexisting",isAccordion:!1,collapseOthers:!1,headingClass:"houdini-heading",icon:-1,iconClass:"houdini-toggle-icon",iconAttribute:"data-houdini-icon",iconShow:"+",iconHide:"&ndash;",emitEvents:!0},n=function(e,n,i){if(n.emitEvents&&"function"==typeof t.CustomEvent){var o=new CustomEvent(e,{bubbles:!0,detail:i});i.content?i.content.dispatchEvent(o):document.dispatchEvent(o)}},i=function(t,e){var n=t.getAttribute(e.btnTextAttribute),i=t.classList.contains(e.expandedClass),o=t.getAttribute(e.btnLabelAttribute),r=function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');if(n)return n.removeAttribute("hidden"),"a"===n.tagName.toLowerCase()&&n.setAttribute("role","button"),n.setAttribute(e.btnPreexisting,"true"),n}(t,e),s=r||document.createElement("button");if(!r){if(!n||n.length<1)return;s.textContent=n}s.setAttribute(e.btnAttribute,t.id),s.className+=" "+e.btnClass;return e.icon&&(s.innerHTML+='<span class="'+e.iconClass+'" '+e.iconAttribute+">"+(i?e.iconHide:e.iconShow)+"</span>"),s.setAttribute("aria-expanded",i),o&&s.setAttribute("aria-label",o),r||t.parentNode.insertBefore(s,e.btnAfter?t.nextSibling:t),s},o=function(t,e){return e.isAccordion?function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');if(n){var i=t.classList.contains(e.expandedClass);n.classList.add(e.headingClass),n.removeAttribute(e.btnAttribute);var o="";return e.icon&&(o='<span class="'+e.iconClass+'" '+e.iconAttribute+">"+(i?e.iconHide:e.iconShow)+"</span>"),n.innerHTML='<button class="'+e.btnClass+'" '+e.btnAttribute+'="'+t.id+'" aria-expanded="'+!!i+'">'+n.innerHTML+o+"</button>",n}}(t,e):i(t,e)},r=function(t,e){e.isAccordion?function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');if(n){n.parentNode.classList.remove(e.headingClass),n.parentNode.setAttribute(e.btnAttribute,t.id);var i=n.cloneNode(!0),o=i.querySelector("["+e.iconAttribute+"]");o&&i.removeChild(o),n.parentNode.innerHTML=i.innerHTML}}(t,e):function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');n&&(n.hasAttribute(e.btnPreexisting)?n.setAttribute("hidden","hidden"):n.parentNode.removeChild(n))}(t,e)},s=function(e,i,o){!function(t,e){t.setAttribute("aria-expanded","false"),t.removeAttribute("aria-controls");var n=t.querySelector("["+e.iconAttribute+"]");n&&(n.innerHTML=e.iconShow)}(e,o);var r=i;r.style.height=r.scrollHeight+"px",t.setTimeout(function(){r.style.height="0"},1),r.classList.remove(o.visibleClass),t.setTimeout(function(){r.classList.remove(o.expandedClass)},150),n("houdiniCollapse",o,{button:e,content:i})},a=function(t,e,n,i){i.isAccordion&&i.collapseOthers&&Array.prototype.forEach.call(document.querySelectorAll(n+"."+i.expandedClass),function(t){var e=document.querySelector("["+i.btnAttribute+'="'+t.id+'"]');s(e,t,i)})},u=function(e,i,o){!function(t,e,n){t.setAttribute("aria-expanded",!0),t.setAttribute("aria-controls",e.id);var i=t.querySelector("["+n.iconAttribute+"]");i&&(i.innerHTML=n.iconHide)}(e,i,o);var r=i,s=function(){r.style.display="block";var t=r.scrollHeight+"px";return r.style.display="",t}();r.classList.add(o.expandedClass),r.style.height=s,t.setTimeout(function(){r.style.height="",r.classList.add(o.visibleClass)},150),o.btnAfter&&!o.isAccordion&&i.focus(),n("houdiniExpand",o,{button:e,content:i})},c=function(t,e,n,i){var o=t.getAttribute("aria-expanded"),r=document.querySelector("#"+t.getAttribute(n.btnAttribute));r&&r.matches(e)&&(i&&i.preventDefault(),"true"==o?s(t,r,n):(a(0,0,e,n),u(t,r,n)))},d=function(t,e){var n=t;return"string"==typeof t&&(n=document.querySelector(t)),n&&n.matches("["+e+"]")&&(n=document.querySelector("#"+n.getAttribute(e))),n},l=function(t,e,n){var i=t;return"string"==typeof t&&(i=document.querySelector(t)),i&&i.matches(e)&&(i=document.querySelector("["+n.btnAttribute+'="'+i.id+'"]')),i};return function(t,i){var b,f={};f.toggle=function(e){c(l(e,t,b),t,b)},f.expand=function(e){u(l(e,t,b),d(e,b.btnAttribute),b)},f.collapse=function(e){var n=l(e,t,b),i=d(e,b.btnAttribute);a(0,0,t,b),s(n,i,b)},f.setup=function(){Array.prototype.forEach.call(document.querySelectorAll(t),function(t){t.classList.contains(b.contentClass)||o(t,b)&&(t.classList.add(b.contentClass),t.classList.contains(b.expandedClass)&&b.expandedOnInit.push(t.id),b.btnAfter&&!t.getAttribute("tabindex")&&t.setAttribute("tabindex",-1),b.expanded&&t.classList.add(b.expandedClass))}),n("houdiniSetup",b,{settings:b})};var p=function(e){var n=e.target.closest("["+b.btnAttribute+"]");n&&c(n,t,b,e)};f.destroy=function(){document.removeEventListener("click",p,!1),function(t,e){Array.prototype.forEach.call(document.querySelectorAll(t),function(t){r(t,e),t.classList.remove(e.contentClass),t.style.height="",e.expandedOnInit.indexOf(t.id)<0?(t.classList.remove(e.expandedClass),t.classList.remove(e.visibleClass)):(t.classList.add(e.expandedClass),t.classList.add(e.visibleClass))})}(t,b),n("houdiniDestroy",b,{settings:b}),b=null};return(b=function(){var t={};return Array.prototype.forEach.call(arguments,function(e){for(var n in e){if(!e.hasOwnProperty(n))return;t[n]=e[n]}}),t}(e,i||{})).expandedOnInit=[],b.icon<0&&(b.icon=b.isAccordion),f.setup(),document.addEventListener("click",p,!1),n("houdiniInitialize",b,{settings:b}),f}});